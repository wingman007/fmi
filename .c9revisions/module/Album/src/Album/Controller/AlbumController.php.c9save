{"ts":1360308018159,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<?php\nnamespace Album\\Controller;\n\nuse Zend\\Mvc\\Controller\\AbstractActionController;\nuse Zend\\View\\Model\\ViewModel;\n\nclass AlbumController extends AbstractActionController\n{\n    public function indexAction()\n    {\n    }\n\n    public function addAction()\n    {\n    }\n\n    public function editAction()\n    {\n    }\n\n    public function deleteAction()\n    {\n    }\n}"]],"start1":0,"start2":0,"length1":0,"length2":360}]],"length":360}
{"contributors":[],"silentsave":true,"ts":1360310125497,"patch":[[{"diffs":[[0,"oller\n{\n"],[1,"    \n    \n"],[0,"    publ"]],"start1":166,"start2":166,"length1":16,"length2":26}]],"length":370,"saved":false}
{"ts":1360310126585,"patch":[[{"diffs":[[0,"oller\n{\n    "],[1,"public function getAlbumTable()\n    {\n        if (!$this->albumTable) {\n            $sm = $this->getServiceLocator();\n            $this->albumTable = $sm->get('Album\\Model\\AlbumTable');\n        }\n        return $this->albumTable;\n    }"],[0,"\n    \n    pu"]],"start1":166,"start2":166,"length1":24,"length2":259}]],"length":605,"saved":false}
{"ts":1360310137035,"patch":[[{"diffs":[[0,"oller\n{\n"],[1,"    protected $albumTable;\n    \n"],[0,"    publ"]],"start1":166,"start2":166,"length1":16,"length2":48}]],"length":637,"saved":false}
{"ts":1360310183363,"patch":[[{"diffs":[[0,"xAction()\n    {\n"],[1,"        return new ViewModel(array(\n            'albums' => $this->getAlbumTable()->fetchAll(),\n        ));\n"],[0,"    }\n\n    publi"]],"start1":475,"start2":475,"length1":32,"length2":140}]],"length":745,"saved":false}
{"ts":1360311317580,"patch":[[{"diffs":[[0,"  {\n        "],[1,"/*"],[0,"return new V"]],"start1":487,"start2":487,"length1":24,"length2":26}]],"length":747,"saved":false}
{"ts":1360311320020,"patch":[[{"diffs":[[0,"     ));"],[1,"*/"],[0,"\n    }\n\n"]],"start1":592,"start2":592,"length1":16,"length2":18}]],"length":749,"saved":false}
{"ts":1360311376638,"patch":[[{"diffs":[[0," ));"],[-1,"*/"],[0,"\n   "]],"start1":596,"start2":596,"length1":10,"length2":8}]],"length":747,"saved":false}
{"ts":1360311378482,"patch":[[{"diffs":[[0,"    "],[-1,"/*"],[0,"retu"]],"start1":495,"start2":495,"length1":10,"length2":8}]],"length":745,"saved":false}
{"contributors":[],"silentsave":true,"ts":1362076559616,"patch":[[{"diffs":[[0,"ewModel;"],[1,"\nuse Album\\Model\\Album;          // <-- Add this import\nuse Album\\Form\\AlbumForm;       // <-- Add this import"],[0,"\n\nclass "]],"start1":107,"start2":107,"length1":16,"length2":126},{"diffs":[[0," }\n\n"],[-1,"    public function addAction()\n    {\n    }\n\n    public function editAction()\n    {\n    }\n\n    public function deleteAction()\n    {\n    }"],[1,"=======\nuse Album\\Model\\Album; // <-- Add this import\nuse Album\\Form\\AlbumForm; // <-- Add this import\n\nclass AlbumController extends AbstractActionController\n{\n  \n    protected $albumTable;\n  \n    public function indexAction()\n    {\n      return new ViewModel(array(\n            'albums' => $this->getAlbumTable()->fetchAll(),\n      ));\n    }\n\n    // Add content to this method:\n>>>>>>> e6069389b80e7d3f1e0b75bd0fd59d987ac36951\n    public function addAction()\n    {\n        $form = new AlbumForm();\n        $form->get('submit')->setValue('Add');\n\n        $request = $this->getRequest();\n        if ($request->isPost()) {\n            $album = new Album();\n            $form->setInputFilter($album->getInputFilter());\n            $form->setData($request->getPost());\n\n            if ($form->isValid()) {\n                $album->exchangeArray($form->getData());\n                $this->getAlbumTable()->saveAlbum($album);\n\n                // Redirect to list of albums\n                return $this->redirect()->toRoute('album');\n            }\n        }\n        return array('form' => $form);\n    }\n\n<<<<<<< HEAD\n=======\n    // Add content to this method:\n>>>>>>> e6069389b80e7d3f1e0b75bd0fd59d987ac36951\n    public function editAction()\n    {\n        $id = (int) $this->params()->fromRoute('id', 0);\n        if (!$id) {\n            return $this->redirect()->toRoute('album', array(\n                'action' => 'add'\n            ));\n        }\n        $album = $this->getAlbumTable()->getAlbum($id);\n\n<<<<<<< HEAD\n        $form  = new AlbumForm();\n=======\n        $form = new AlbumForm();\n>>>>>>> e6069389b80e7d3f1e0b75bd0fd59d987ac36951\n        $form->bind($album);\n        $form->get('submit')->setAttribute('value', 'Edit');\n\n        $request = $this->getRequest();\n        if ($request->isPost()) {\n            $form->setInputFilter($album->getInputFilter());\n            $form->setData($request->getPost());\n\n            if ($form->isValid()) {\n                $this->getAlbumTable()->saveAlbum($form->getData());\n\n                // Redirect to list of albums\n                return $this->redirect()->toRoute('album');\n            }\n        }\n\n        return array(\n            'id' => $id,\n            'form' => $form,\n        );\n    }\n\n<<<<<<< HEAD\n=======\n    // Add content to the following method:\n>>>>>>> e6069389b80e7d3f1e0b75bd0fd59d987ac36951\n    public function deleteAction()\n    {\n        $id = (int) $this->params()->fromRoute('id', 0);\n        if (!$id) {\n            return $this->redirect()->toRoute('album');\n        }\n\n        $request = $this->getRequest();\n        if ($request->isPost()) {\n            $del = $request->getPost('del', 'No');\n\n            if ($del == 'Yes') {\n                $id = (int) $request->getPost('id');\n                $this->getAlbumTable()->deleteAlbum($id);\n            }\n\n            // Redirect to list of albums\n            return $this->redirect()->toRoute('album');\n        }\n\n        return array(\n<<<<<<< HEAD\n            'id'    => $id,\n            'album' => $this->getAlbumTable()->getAlbum($id)\n        );\n    }\n=======\n            'id' => $id,\n            'album' => $this->getAlbumTable()->getAlbum($id)\n        );\n    }\n  \n// module/Album/src/Album/Controller/AlbumController.php:\n    public function getAlbumTable()\n    {\n        if (!$this->albumTable) {\n            $sm = $this->getServiceLocator();\n            $this->albumTable = $sm->get('Album\\Model\\AlbumTable');\n        }\n        return $this->albumTable;\n    }\n>>>>>>> e6069389b80e7d3f1e0b75bd0fd59d987ac36951"],[0,"\n}"]],"start1":712,"start2":712,"length1":143,"length2":3540}]],"length":4252,"saved":false}
{"ts":1362076564072,"patch":[[{"diffs":[[0,"\n    }\n\n"],[-1,"======="],[0,"\nuse Alb"]],"start1":708,"start2":708,"length1":23,"length2":16}]],"length":4245,"saved":false}
{"ts":1362076581246,"patch":[[{"diffs":[[0," }\n\n"],[-1,"\nuse Album\\Model\\Album; // <-- Add this import\nuse Album\\Form\\AlbumForm; // <-- Add this import\n\nclass AlbumController extends AbstractActionController\n{\n  \n    protected $albumTable;\n  \n    public function indexAction()\n    {\n      return new ViewModel(array(\n            'albums' => $this->getAlbumTable()->fetchAll(),\n      ));\n    }\n\n    // Add content to this method:\n>>>>>>> e6069389b80e7d3f1e0b75bd0fd59d987ac36951\n"],[0,"    "]],"start1":712,"start2":712,"length1":430,"length2":8}]],"length":3823,"saved":false}
{"ts":1362076585676,"patch":[[{"diffs":[[0," }\n\n"],[-1,"<<<<<<< HEAD\n=======\n    // Add content to this method:\n>>>>>>> e6069389b80e7d3f1e0b75bd0fd59d987ac36951"],[0,"\n   "]],"start1":1379,"start2":1379,"length1":112,"length2":8}]],"length":3719,"saved":false}
{"ts":1362076591394,"patch":[[{"diffs":[[0,");\n\n"],[-1,"<<<<<<< HEAD\n        $form  = new AlbumForm();\n======="],[0,"\n   "]],"start1":1675,"start2":1675,"length1":62,"length2":8}]],"length":3665,"saved":false}
{"ts":1362076592633,"patch":[[{"diffs":[[0,"();\n"],[-1,">>>>>>> e6069389b80e7d3f1e0b75bd0fd59d987ac36951"],[0,"\n   "]],"start1":1709,"start2":1709,"length1":56,"length2":8}]],"length":3617,"saved":false}
{"ts":1362076596003,"patch":[[{"diffs":[[0,"\n    }\n\n"],[-1,"<<<<<<< HEAD"],[0,"\n======="]],"start1":2313,"start2":2313,"length1":28,"length2":16}]],"length":3605,"saved":false}
{"ts":1362076598525,"patch":[[{"diffs":[[0,"}\n\n\n"],[-1,"=======\n    // Add content to the following method:\n>>>>>>> e6069389b80e7d3f1e0b75bd0fd59d987ac36951\n"],[0,"    "]],"start1":2318,"start2":2318,"length1":109,"length2":8}]],"length":3504,"saved":false}
{"ts":1362076604556,"patch":[[{"diffs":[[0,"ay(\n"],[-1,"<<<<<<< HEAD"],[0,"\n   "]],"start1":2919,"start2":2919,"length1":20,"length2":8}]],"length":3492,"saved":false}
{"ts":1362076608779,"patch":[[{"diffs":[[0,"  }\n"],[-1,"=======\n            'id' => $id,\n            'album' => $this->getAlbumTable()->getAlbum($id)\n        );\n    }\n  "],[0,"\n// "]],"start1":3026,"start2":3026,"length1":121,"length2":8}]],"length":3379,"saved":false}
{"ts":1362076610189,"patch":[[{"diffs":[[0," }\n\n"],[-1,"// module/Album/src/Album/Controller/AlbumController.php:"],[0,"\n   "]],"start1":3027,"start2":3027,"length1":65,"length2":8}]],"length":3322,"saved":false}
{"ts":1362076614445,"patch":[[{"diffs":[[0,"  }\n"],[-1,">>>>>>> e6069389b80e7d3f1e0b75bd0fd59d987ac36951"],[0,"\n}"]],"start1":3268,"start2":3268,"length1":54,"length2":6}]],"length":3274,"saved":false}
{"ts":1362076766418,"patch":[[{"diffs":[[0,"m($id)\n        )"],[-1,";"],[1,"в"],[0,"\n    }\n\n\n    pub"]],"start1":3006,"start2":3006,"length1":33,"length2":33}]],"length":3274,"saved":false}
{"ts":1362076768518,"patch":[[{"diffs":[[0,"   )"],[-1,"в"],[0,"\n   "]],"start1":3018,"start2":3018,"length1":9,"length2":8}]],"length":3273,"saved":false}
{"ts":1362076772884,"patch":[[{"diffs":[[0,"       )"],[1,";"],[0,"\n    }\n\n"]],"start1":3014,"start2":3014,"length1":16,"length2":17}]],"length":3274,"saved":false}
{"ts":1362077240286,"patch":[[{"diffs":[[0,"le()"],[-1,"\n    {\n        if (!$this->albumTable) {\n            $sm = $this->getServiceLocator();\n            $this->albumTable = $sm->get('Album\\Model\\AlbumTable');\n        }\n        return $this->albumTable;\n    }"],[0,"\n\n}"]],"start1":3063,"start2":3063,"length1":211,"length2":7}]],"length":3070,"saved":false}
{"ts":1362077241186,"patch":[[{"diffs":[[0,"}\n\n\n"],[-1,"    public function getAlbumTable()"],[0,"\n\n}"]],"start1":3028,"start2":3028,"length1":42,"length2":7}]],"length":3035,"saved":false}
{"ts":1362077243207,"patch":[[{"diffs":[[0,"\n    }\n\n"],[-1,"\n\n\n"],[0,"}"]],"start1":3023,"start2":3023,"length1":12,"length2":9}]],"length":3032,"saved":false}
